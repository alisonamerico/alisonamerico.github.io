{"categories":[{"link":"/pt/categories/testing/","name":"Testing","slug":"Testing"}],"pages":[],"posts":[{"link":"/pt/posts/testando-apis-do-github-com-pytest-pr%C3%A1tica/","text":" Introdu√ß√£o No post anterior, cobrimos os fundamentos te√≥ricos do Pytest.\nAgora vamos aplicar tudo na pr√°tica usando um exemplo real que consome a API p√∫blica do GitHub:\nConstruir um pequeno projeto do mundo real Consumir a API p√∫blica do GitHub Aplicar testes unit√°rios Aplicar testes de integra√ß√£o Usar fixtures Usar mocks Usar marcadores Aplicar o padr√£o AAA Usar plugins pytest Este guia √© intencionalmente muito detalhado. Cada linha importante ser√° explicada para que at√© iniciantes possam seguir.\nEstrutura do Projeto TEXT Recolher Copiar github_api_tests/ ‚îú‚îÄ‚îÄ app.py # Aplica√ß√£o Flask ‚îú‚îÄ‚îÄ services/ ‚îÇ ‚îî‚îÄ‚îÄ github_service.py # Camada de servi√ßo da API GitHub ‚îú‚îÄ‚îÄ tests/ ‚îÇ ‚îú‚îÄ‚îÄ conftest.py # Fixtures compartilhadas ‚îÇ ‚îú‚îÄ‚îÄ test_users_unit.py # Testes unit√°rios com mocks ‚îÇ ‚îú‚îÄ‚îÄ test_users_integration.py # Testes de integra√ß√£o (API real) ‚îÇ ‚îú‚îÄ‚îÄ test_parametrize.py # Testes parametrizados ‚îÇ ‚îú‚îÄ‚îÄ test_skip.py # Exemplos de marcador skip ‚îÇ ‚îú‚îÄ‚îÄ test_fail.py # Exemplos de marcador xfail ‚îÇ ‚îú‚îÄ‚îÄ test_errors.py # Testes de tratamento de erros ‚îÇ ‚îú‚îÄ‚îÄ test_functional.py # Testes funcionais (rotas Flask) ‚îÇ ‚îú‚îÄ‚îÄ test_performace.py # Benchmarks de performance ‚îÇ ‚îî‚îÄ‚îÄ test_regression.py # Testes de regress√£o ‚îú‚îÄ‚îÄ pytest.ini # Configura√ß√£o do pytest ‚îî‚îÄ‚îÄ requirements.txt # Depend√™ncias do projeto Clique para expandir e ver mais Organizamos o projeto seguindo as melhores pr√°ticas:\napp.py - Aplica√ß√£o Flask principal (ponto de entrada) services/ - Camada de l√≥gica de neg√≥cios (separa responsabilidades) tests/ - Todos os arquivos de teste organizados por tipo pytest.ini - Configura√ß√£o global de testes requirements.txt - Gerenciamento de depend√™ncias Esta arquitetura proporciona:\nSepara√ß√£o clara de responsabilidades F√°cil manuten√ß√£o e escalabilidade Estrutura padr√£o da ind√∫stria Melhor organiza√ß√£o de testes Configura√ß√£o do Projeto Antes de executar os testes, precisamos preparar nosso ambiente de desenvolvimento local adequadamente.\nCriando um Ambiente Virtual Um ambiente virtual nos permite isolar as depend√™ncias do projeto da instala√ß√£o global do Python.\nIsso evita conflitos de vers√£o entre diferentes projetos e garante reproduibilidade.\nBASH Recolher Copiar python -m venv .venv Clique para expandir e ver mais O que este comando faz: python ‚Üí Executa o interpretador Python.\n-m venv ‚Üí Executa o m√≥dulo embutido venv.\n.venv ‚Üí Cria uma nova pasta de ambiente virtual chamada .venv.\nAp√≥s executar este comando, um diret√≥rio chamado .venv/ ser√° criado contendo:\nUm interpretador Python local\nSeu pr√≥prio pip\nUm diret√≥rio site-packages isolado\nIsso garante que qualquer pacote instalado dentro deste ambiente n√£o afetar√° outros projetos.\nAtivando o Ambiente Virtual Uma vez criado, o ambiente virtual deve ser ativado:\nBASH Recolher Copiar source .venv/bin/activate Clique para expandir e ver mais O que isto faz: source ‚Üí Executa o script no shell atual.\n.venv/bin/activate ‚Üí Ativa o ambiente virtual.\nAp√≥s ativa√ß√£o:\nSeu terminal geralmente muda (ex., (.venv) aparece).\npython e pip agora apontam para as vers√µes do ambiente virtual.\nTodos os pacotes instalados ser√£o isolados dentro do .venv.\nDepend√™ncias Todas as depend√™ncias do projeto est√£o listadas em um arquivo requirements.txt:\nPLAINTEXT Recolher Copiar flask requests pytest pytest-mock pytest-cov pytest-benchmark Clique para expandir e ver mais O que cada depend√™ncia faz:\nflask ‚Üí Framework web para construir endpoints de API. requests ‚Üí Cliente HTTP usado para interagir com a API do GitHub. pytest ‚Üí Framework de testes. pytest-mock ‚Üí Fornece integra√ß√£o entre pytest e unittest.mock. pytest-cov ‚Üí Adiciona relat√≥rio de cobertura de testes. pytest-benchmark ‚Üí Ferramentas de teste de performance e benchmarking. Instalando Depend√™ncias Para instalar todos os pacotes necess√°rios:\nBASH Recolher Copiar pip install -r requirements.txt Clique para expandir e ver mais O que este comando faz:\npip ‚Üí Instalador de pacotes Python. -r requirements.txt ‚Üí L√™ a lista de depend√™ncias do arquivo. Instala todos os pacotes listados dentro do ambiente virtual ativo. Configura√ß√£o do Pytest O projeto inclui um arquivo pytest.ini para configurar o comportamento do pytest globalmente.\npytest.ini\nINI Recolher Copiar [pytest] addopts = -ra -q --cov=app --cov-report=term-missing markers = unit: marca testes como testes unit√°rios integration: marca testes como testes de integra√ß√£o slow: marca testes como testes lentos regression: marca testes como testes de regress√£o Clique para expandir e ver mais Explica√ß√£o linha por linha [pytest]\nDeclara que este arquivo cont√©m configura√ß√£o para o pytest.\naddopts = -ra -q --cov=app --cov-report=term-missing\nDefine op√ß√µes de linha de comando padr√£o que sempre ser√£o aplicadas ao executar pytest.\nQuebrando em partes:\n-r a ‚Üí Mostra um resumo para todos os resultados dos testes (passed, skipped, xfailed, etc.). -q ‚Üí Executa pytest em modo silencioso (menos output detalhado). --cov=app ‚Üí Mede cobertura de testes para o pacote app. --cov-report=term-missing ‚Üí Exibe linhas faltando diretamente no relat√≥rio de cobertura do terminal. Isso garante que toda execu√ß√£o de teste inclua automaticamente an√°lise de cobertura.\nmarkers =\nRegistra marcadores de teste personalizados para evitar avisos como:\nMAKEFILE Recolher Copiar PytestUnknownMarkWarning: Unknown pytest.mark.integration Clique para expandir e ver mais Cada marcador deve ser declarado explicitamente.\nunit\nINI Recolher Copiar unit: marca testes como testes unit√°rios Clique para expandir e ver mais Marca testes como testes unit√°rios.\nEstes testes:\nValidam pequenos peda√ßos de l√≥gica Evitam depend√™ncias externas Executam muito r√°pido Voc√™ pode execut√°-los usando:\nBASH Recolher Copiar pytest -m unit Clique para expandir e ver mais integration\nINI Recolher Copiar integration: marca testes como testes de integra√ß√£o Clique para expandir e ver mais Marca testes de integra√ß√£o.\nEstes testes:\nValidam intera√ß√£o entre componentes Podem chamar servi√ßos reais ou APIs externas S√£o geralmente mais lentos que testes unit√°rios Execute apenas testes de integra√ß√£o:\nBASH Recolher Copiar pytest -m integration Clique para expandir e ver mais slow\nINI Recolher Copiar slow: marca testes como testes lentos Clique para expandir e ver mais Marca testes mais lentos.\nVoc√™ pode exclu√≠-los:\nBASH Recolher Copiar pytest -m \u0026#34;not slow\u0026#34; Clique para expandir e ver mais C√≥digo de Produ√ß√£o Aplica√ß√£o Flask (app.py) PYTHON Recolher Copiar # app.py from flask import Flask, jsonify from services.github_service import fetch_users app = Flask(__name__) @app.route(\u0026#39;/users\u0026#39;) def github_users(): try: users = fetch_users() return jsonify(users) except Exception as e: return jsonify({\u0026#34;error\u0026#34;: str(e)}), 500 if __name__ == \u0026#39;__main__\u0026#39;: app.run(debug=True) Clique para expandir e ver mais Camada de Servi√ßo (services/github_service.py) PYTHON Recolher Copiar # services/github_service.py import requests GITHUB_API_URL = \u0026#39;https://api.github.com/users\u0026#39; def fetch_users(per_page=10): \u0026#34;\u0026#34;\u0026#34; Busca usu√°rios da API p√∫blica do GitHub. \u0026#34;\u0026#34;\u0026#34; response = requests.get( GITHUB_API_URL, params={\u0026#39;per_page\u0026#39;: per_page}, timeout=5 ) response.raise_for_status() return response.json() Clique para expandir e ver mais C√≥digo de Produ√ß√£o (Explica√ß√£o Linha por Linha) Aplica√ß√£o Flask (app.py) PYTHON Recolher Copiar # app.py from flask import Flask, jsonify from services.github_service import fetch_users Clique para expandir e ver mais N√≥s importamos:\nFlask - Framework web para criar nossa API jsonify - Auxiliar Flask para respostas JSON fetch_users - Fun√ß√£o de servi√ßo que lida com chamadas da API GitHub PYTHON Recolher Copiar app = Flask(__name__) Clique para expandir e ver mais Cria a inst√¢ncia da aplica√ß√£o Flask.\nPYTHON Recolher Copiar @app.route(\u0026#39;/users\u0026#39;) def github_users(): try: users = fetch_users() return jsonify(users) except Exception as e: return jsonify({\u0026#34;error\u0026#34;: str(e)}), 500 Clique para expandir e ver mais Esta √© uma rota Flask com tratamento de erros:\n@app.route('/users') ‚Üí Mapeia HTTP GET /users para esta fun√ß√£o try/except ‚Üí Lida com falhas de API elegantemente jsonify(users) ‚Üí Retorna resposta JSON para o cliente return jsonify({\u0026quot;error\u0026quot;: str(e)}), 500 ‚Üí Retorna resposta de erro quando a API GitHub falha PYTHON Recolher Copiar if __name__ == \u0026#39;__main__\u0026#39;: app.run(debug=True) Clique para expandir e ver mais Permite executar o aplicativo diretamente com python app.py.\nCamada de Servi√ßo (services/github_service.py) PYTHON Recolher Copiar # services/github_service.py import requests GITHUB_API_URL = \u0026#39;https://api.github.com/users\u0026#39; Clique para expandir e ver mais Import requests para chamadas HTTP Define constante para URL base da API GitHub PYTHON Recolher Copiar def fetch_users(per_page=10): Clique para expandir e ver mais Par√¢metro da fun√ß√£o:\nper_page=10 ‚Üí Valor padr√£o, permite personaliza√ß√£o PYTHON Recolher Copiar response = requests.get( GITHUB_API_URL, params={\u0026#39;per_page\u0026#39;: per_page}, timeout=5 ) Clique para expandir e ver mais Detalhes da requisi√ß√£o HTTP:\nGITHUB_API_URL ‚Üí Endpoint base params={'per_page': per_page} ‚Üí Par√¢metros de query timeout=5 ‚Üí Previne requisi√ß√µes pendentes PYTHON Recolher Copiar response.raise_for_status() return response.json() Clique para expandir e ver mais raise_for_status() ‚Üí Levanta exce√ß√£o para erros HTTP response.json() ‚Üí Analisa resposta JSON para lista Python Esta arquitetura segue o Padr√£o de Camada de Servi√ßo, separando preocupa√ß√µes web da l√≥gica de neg√≥cios.\nEntendendo o Padr√£o AAA AAA significa:\nArrange ‚Üí Preparar dados Act ‚Üí Executar a fun√ß√£o Assert ‚Üí Validar o resultado Exemplo:\nPYTHON Recolher Copiar def test_simple_math(): # Arrange number = 5 # Act result = number + 2 # Assert assert result == 7 Clique para expandir e ver mais Esta estrutura melhora a legibilidade e profissionalismo.\nFixtures PYTHON Recolher Copiar # tests/conftest.py import pytest from app import app @pytest.fixture def client(): \u0026#34;\u0026#34;\u0026#34; Fixture que cria um cliente HTTP de teste para o Flask. \u0026#34;\u0026#34;\u0026#34; with app.test_client() as client: yield client @pytest.fixture def sample_username(): return \u0026#39;octocat\u0026#39; Clique para expandir e ver mais Esta fixture fornece dados de teste reutiliz√°veis.\nFixtures (Explica√ß√£o) PYTHON Recolher Copiar # tests/conftest.py import pytest from app import app Clique para expandir e ver mais N√≥s importamos pytest e o aplicativo Flask.\nFixture de Cliente de Teste Flask PYTHON Recolher Copiar @pytest.fixture def client(): \u0026#34;\u0026#34;\u0026#34; Fixture que cria um cliente HTTP de teste para o Flask. \u0026#34;\u0026#34;\u0026#34; with app.test_client() as client: yield client Clique para expandir e ver mais An√°lise linha por linha:\n@pytest.fixture ‚Üí Registra esta fun√ß√£o como uma fixture client() ‚Üí O nome da fun√ß√£o se torna injet√°vel app.test_client() ‚Üí Cria cliente de teste Flask with ... as client: ‚Üí Gerenciador de contexto para limpeza yield client ‚Üí Fornece cliente aos testes, depois limpa Esta fixture permite testar rotas Flask sem iniciar um servidor real.\nFixture de Dados Amostra PYTHON Recolher Copiar @pytest.fixture def sample_username(): return \u0026#39;octocat\u0026#39; Clique para expandir e ver mais An√°lise linha por linha:\n@pytest.fixture ‚Üí Registra como fixture sample_username ‚Üí se torna par√¢metro injet√°vel return 'octocat' ‚Üí Fornece dados de teste Quando os testes incluem estes par√¢metros:\nPYTHON Recolher Copiar def test_example(client, sample_username): Clique para expandir e ver mais O Pytest injeta automaticamente ambas as fixtures. Isso √© inje√ß√£o de depend√™ncia.\nTeste Unit√°rio com Mock PYTHON Recolher Copiar # tests/test_users_unit.py from services.github_service import fetch_users def test_fetch_users_with_pytest_mock(mocker): \u0026#34;\u0026#34;\u0026#34; Mesmo teste unit√°rio, usando pytest-mock. \u0026#34;\u0026#34;\u0026#34; # Arrange fake_users = [{\u0026#39;login\u0026#39;: \u0026#39;pytest-mock\u0026#39;}] mocker.patch( \u0026#39;services.github_service.requests.get\u0026#39;, return_value=mocker.Mock( json=lambda: fake_users, raise_for_status=lambda: None ), ) # Act users = fetch_users() # Assert assert users == fake_users Clique para expandir e ver mais Teste Unit√°rio (Explica√ß√£o Linha por Linha) PYTHON Recolher Copiar # tests/test_users_unit.py from services.github_service import fetch_users Clique para expandir e ver mais N√≥s importamos a fun√ß√£o de servi√ßo para test√°-la em isolamento.\nPYTHON Recolher Copiar def test_fetch_users_with_pytest_mock(mocker): Clique para expandir e ver mais mocker vem do plugin pytest-mock Nenhum marcador expl√≠cito necess√°rio, mas poderia usar @pytest.mark.unit Se√ß√£o Arrange PYTHON Recolher Copiar fake_users = [{\u0026#39;login\u0026#39;: \u0026#39;pytest-mock\u0026#39;}] Clique para expandir e ver mais Cria dados de teste esperados.\nPYTHON Recolher Copiar mocker.patch( \u0026#39;services.github_service.requests.get\u0026#39;, return_value=mocker.Mock( json=lambda: fake_users, raise_for_status=lambda: None ), ) Clique para expandir e ver mais Esta √© a configura√ß√£o de mocking:\nmocker.patch() ‚Üí Substitui requests.get em nosso servi√ßo return_value=mocker.Mock() ‚Üí Cria resposta mock json=lambda: fake_users ‚Üí M√©todo mock que retorna nossos dados falsos raise_for_status=lambda: None ‚Üí Mock que n√£o faz nada (sem exce√ß√£o) Ponto chave: Nenhuma chamada HTTP real √© feita!\nSe√ß√£o Act PYTHON Recolher Copiar users = fetch_users() Clique para expandir e ver mais Executa a fun√ß√£o de servi√ßo, que usa o requests.get mockado.\nSe√ß√£o Assert PYTHON Recolher Copiar assert users == fake_users Clique para expandir e ver mais Verifica que o servi√ßo retorna exatamente o que nosso mock forneceu.\nTeste de Integra√ß√£o (Chamada Real de API) PYTHON Recolher Copiar # tests/test_users_integration.py import pytest from services.github_service import fetch_users @pytest.mark.integration @pytest.mark.skip(reason=\u0026#34;GitHub API rate limit exceeded - skip for now\u0026#34;) def test_fetch_users_integration(): \u0026#34;\u0026#34;\u0026#34; Chama API REAL do GitHub \u0026#34;\u0026#34;\u0026#34; # Act users = fetch_users(5) # Assert assert isinstance(users, list) assert len(users) \u0026gt; 0 assert \u0026#39;login\u0026#39; in users[0] Clique para expandir e ver mais Este teste faz uma chamada HTTP real para o GitHub.\nTeste de Integra√ß√£o (Explica√ß√£o Linha por Linha) PYTHON Recolher Copiar @pytest.mark.integration def test_fetch_users_integration(): Clique para expandir e ver mais Marcador integration categoriza como teste de integra√ß√£o Nenhum marcador slow aqui, mas poderia ser adicionado PYTHON Recolher Copiar users = fetch_users(5) Clique para expandir e ver mais Isto realiza uma requisi√ß√£o real para a API GitHub, pedindo por 5 usu√°rios.\nPYTHON Recolher Copiar assert isinstance(users, list) assert len(users) \u0026gt; 0 assert \u0026#39;login\u0026#39; in users[0] Clique para expandir e ver mais M√∫ltiplas asser√ß√µes validam:\nResposta √© uma lista Lista n√£o est√° vazia Primeiro usu√°rio tem estrutura esperada Importante: Este teste requer conex√£o com internet e pode ser lento.\nParametrizar PYTHON Recolher Copiar # tests/test_parametrize.py import pytest from services.github_service import fetch_users @pytest.mark.parametrize(\u0026#39;qty\u0026#39;, [1, 3, 5]) def test_fetch_users_parametrize(qty, mocker): \u0026#34;\u0026#34;\u0026#34; Mesmo teste com m√∫ltiplos valores. Usando requests mockados para evitar rate limiting. \u0026#34;\u0026#34;\u0026#34; # Arrange - mockar resposta para evitar rate limiting fake_users = [{\u0026#39;login\u0026#39;: f\u0026#39;user{i}\u0026#39;} for i in range(qty)] mocker.patch( \u0026#39;services.github_service.requests.get\u0026#39;, return_value=mocker.Mock( json=lambda: fake_users, raise_for_status=lambda: None ), ) # Act users = fetch_users(qty) # Assert assert len(users) \u0026lt;= qty assert len(users) == qty # Deve corresponder exatamente com nosso mock Clique para expandir e ver mais O Pytest executa este teste tr√™s vezes com diferentes quantidades.\nParametrizar (Detalhado) PYTHON Recolher Copiar @pytest.mark.parametrize(\u0026#39;qty\u0026#39;, [1, 3, 5]) Clique para expandir e ver mais O Pytest ir√°:\nExecutar o teste com qty = 1 Executar com qty = 3 Executar com qty = 5 PYTHON Recolher Copiar def test_fetch_users_parametrize(qty, mocker): fake_users = [{\u0026#39;login\u0026#39;: f\u0026#39;user{i}\u0026#39;} for i in range(qty)] mocker.patch(\u0026#39;services.github_service.requests.get\u0026#39;, ...) users = fetch_users(qty) assert len(users) == qty Clique para expandir e ver mais Os par√¢metros s√£o automaticamente injetados na fun√ß√£o de teste.\nEsta abordagem:\nElimina duplica√ß√£o de c√≥digo Testa casos extremos (1, 3, 5 usu√°rios) Usa mocking para evitar rate limiting de API Torna testes mais mant√≠veis Dica profissional: Voc√™ tamb√©m pode combinar m√∫ltiplos par√¢metros:\nPYTHON Recolher Copiar @pytest.mark.parametrize(\u0026#39;qty,expected\u0026#39;, [(1, 1), (5, 5), (100, 100)]) Clique para expandir e ver mais Testando Erros PYTHON Recolher Copiar # tests/test_errors.py import pytest import requests from services.github_service import fetch_users def test_timeout_error(mocker): \u0026#34;\u0026#34;\u0026#34; Testa como o servi√ßo lida com timeouts. \u0026#34;\u0026#34;\u0026#34; # Arrange mocker.patch( \u0026#39;services.github_service.requests.get\u0026#39;, side_effect=requests.Timeout(\u0026#34;Request timed out\u0026#34;) ) # Act \u0026amp; Assert with pytest.raises(requests.Timeout): fetch_users() def test_http_error_handling(mocker): \u0026#34;\u0026#34;\u0026#34; Testa tratamento de erros HTTP. \u0026#34;\u0026#34;\u0026#34; # Arrange mocker.patch( \u0026#39;services.github_service.requests.get\u0026#39;, side_effect=requests.HTTPError(\u0026#34;404 Not Found\u0026#34;) ) # Act \u0026amp; Assert with pytest.raises(requests.HTTPError): fetch_users() Clique para expandir e ver mais Isso garante que erros s√£o tratados corretamente.\nTestando Erros (Explica√ß√£o Linha por Linha) Teste de Erro de Timeout PYTHON Recolher Copiar mocker.patch( \u0026#39;services.github_service.requests.get\u0026#39;, side_effect=requests.Timeout(\u0026#34;Request timed out\u0026#34;) ) Clique para expandir e ver mais side_effect ‚Üí Em vez de retornar, levanta exce√ß√£o requests.Timeout ‚Üí Exce√ß√£o espec√≠fica de timeout Testa como o servi√ßo lida com timeouts de rede PYTHON Recolher Copiar with pytest.raises(requests.Timeout): fetch_users() Clique para expandir e ver mais Afirma que fetch_users() levanta Timeout Teste passa se a exce√ß√£o correta for levantada Teste falha se n√£o houver exce√ß√£o ou exce√ß√£o errada Teste de Erro HTTP PYTHON Recolher Copiar side_effect=requests.HTTPError(\u0026#34;404 Not Found\u0026#34;) Clique para expandir e ver mais Simula erros HTTP como 404, 500, etc.\nBenef√≠cios chave:\nTesta tratamento de erros sem falhas reais Garante propaga√ß√£o adequada de exce√ß√µes Verifica robustez do servi√ßo Skip vs Xfail PYTHON Recolher Copiar # tests/test_skip.py import pytest @pytest.mark.skip(reason=\u0026#39;Feature em desenvolvimento\u0026#39;) def test_future_feature(): assert True Clique para expandir e ver mais PYTHON Recolher Copiar # tests/test_fail.py import pytest from services.github_service import fetch_users @pytest.mark.xfail(reason=\u0026#39;Bug conhecido\u0026#39;) def test_known_bug(): assert False @pytest.mark.xfail(reason=\u0026#39;Bug conhecido quando per_page \u0026gt; 100\u0026#39;) def test_expected_failure(): fetch_users(200) Clique para expandir e ver mais Skip vs Xfail (Detalhado) Marcador Skip PYTHON Recolher Copiar @pytest.mark.skip(reason=\u0026#39;Feature em desenvolvimento\u0026#39;) Clique para expandir e ver mais Teste n√£o executa de todo Mostra como \u0026ldquo;skipped\u0026rdquo; no relat√≥rio de testes √ötil para funcionalidades incompletas Economiza tempo de execu√ß√£o Marcador Xfail PYTHON Recolher Copiar @pytest.mark.xfail(reason=\u0026#39;Bug conhecido\u0026#39;) Clique para expandir e ver mais Teste executa mas falha √© esperada Mostra como \u0026ldquo;xfail\u0026rdquo; (falha esperada) se falhar Mostra como \u0026ldquo;xpass\u0026rdquo; (passado inesperado) se passar √ötil para bugs conhecidos ou casos extremos Quando usar cada:\n@pytest.mark.skip: Funcionalidade n√£o pronta, problemas de ambiente @pytest.mark.xfail: Limita√ß√µes conhecidas, falhas esperadas Pulando condicional:\nPYTHON Recolher Copiar @pytest.mark.skipif(sys.version_info \u0026lt; (3, 8), reason=\u0026#34;Requer Python 3.8+\u0026#34;) def test_python_38_feature(): pass Clique para expandir e ver mais Testes Funcionais (Rotas Flask) PYTHON Recolher Copiar # tests/test_functional.py from http import HTTPStatus def test_users_page(client): \u0026#34;\u0026#34;\u0026#34; Teste funcional: - Simula acesso √† rota Flask \u0026#34;\u0026#34;\u0026#34; # Act response = client.get(\u0026#39;/users\u0026#39;) # Assert - verificar por resposta bem-sucedida ou erro de rate limit assert response.status_code in [HTTPStatus.OK, HTTPStatus.INTERNAL_SERVER_ERROR] # Verificar se resposta √© JSON v√°lido try: data = json.loads(response.data) if response.status_code == HTTPStatus.OK: assert isinstance(data, list) else: # Deve ser uma resposta de erro assert isinstance(data, dict) assert \u0026#39;error\u0026#39; in data except json.JSONDecodeError: assert False, \u0026#34;Resposta n√£o √© JSON v√°lido\u0026#34; Clique para expandir e ver mais Testes Funcionais (Explica√ß√£o Linha por Linha) PYTHON Recolher Copiar def test_users_page(client): Clique para expandir e ver mais client √© a fixture de cliente de teste Flask Testa rota web ponta a ponta Lida com ambos cen√°rios de sucesso e erro PYTHON Recolher Copiar response = client.get(\u0026#39;/users\u0026#39;) Clique para expandir e ver mais Simula requisi√ß√£o HTTP GET para /users Nenhum servidor real necess√°rio (cliente de teste) PYTHON Recolher Copiar assert response.status_code in [HTTPStatus.OK, HTTPStatus.INTERNAL_SERVER_ERROR] Clique para expandir e ver mais Aceita tanto respostas de sucesso (200) quanto de erro (500) 500 ocorre quando a API GitHub limita a requisi√ß√£o PYTHON Recolher Copiar data = json.loads(response.data) if response.status_code == HTTPStatus.OK: assert isinstance(data, list) else: assert isinstance(data, dict) assert \u0026#39;error\u0026#39; in data Clique para expandir e ver mais Valida que a resposta √© sempre JSON v√°lido Sucesso: deve ser uma lista de usu√°rios Erro: deve ser um dict com chave \u0026rsquo;error' Testes de Performance PYTHON Recolher Copiar # tests/test_performace.py def test_users_endpoint_performance(benchmark, client): \u0026#34;\u0026#34;\u0026#34; Mede tempo de resposta da rota /users. \u0026#34;\u0026#34;\u0026#34; benchmark(lambda: client.get(\u0026#39;/users\u0026#39;)) Clique para expandir e ver mais Teste de Performance (Explica√ß√£o Linha por Linha) PYTHON Recolher Copiar def test_users_endpoint_performance(benchmark, client): Clique para expandir e ver mais benchmark √© a fixture do pytest-benchmark client √© a fixture para testes Flask PYTHON Recolher Copiar benchmark(lambda: client.get(\u0026#39;/users\u0026#39;)) Clique para expandir e ver mais Mede tempo de execu√ß√£o do lambda Fornece m√©tricas detalhadas de performance Estabelece linha base para compara√ß√µes futuras Resultados de benchmark atuais do projeto:\nPLAINTEXT Recolher Copiar ------------------------------------------------------- benchmark: 1 tests ------------------------------------------------------ Name (time in ms) Min Max Mean StdDev Median IQR Outliers OPS Rounds Iterations --------------------------------------------------------------------------------------------------------------------------------- test_users_endpoint_performance 246.0832 264.0037 254.0807 8.1997 252.4519 15.2874 1;0 3.9358 5 1 --------------------------------------------------------------------------------------------------------------------------------- Legend: Outliers: 1 Standard Deviation from Mean; 1.5 IQR (InterQuartile Range) from 1st Quartile and 3rd Quartile. OPS: Operations Per Second, computed as 1 / Mean Clique para expandir e ver mais M√©tricas de benchmark explicadas:\nMin: Tempo de execu√ß√£o mais r√°pido observado Max: Tempo de execu√ß√£o mais lento observado Mean: Tempo de execu√ß√£o m√©dio atrav√©s de todas as rodadas StdDev: Desvio padr√£o (medida de consist√™ncia) Median: Valor m√©dio quando ordenado (menos afetado por outliers) IQR: Range interquartil (50% m√©dio dos valores) Outliers: Valores que desviam significativamente da norma OPS: Opera√ß√µes por segundo (quantas vezes poderia executar em um segundo) Rounds: N√∫mero de itera√ß√µes de teste realizadas Iterations: N√∫mero de execu√ß√µes por rodada Execute com: pytest --benchmark-only\nTestes de Regress√£o PYTHON Recolher Copiar # tests/test_regression.py from http import HTTPStatus import pytest @pytest.mark.regression def test_users_endpoint_handles_gracefully(client): \u0026#34;\u0026#34;\u0026#34; Testa que a rota lida com erros elegantemente. Mesmo se a API externa falhar, a rota n√£o deve travar. \u0026#34;\u0026#34;\u0026#34; # Act response = client.get(\u0026#39;/users\u0026#39;) # Deve retornar resposta JSON adequada mesmo quando a API GitHub falhar assert response.status_code in [HTTPStatus.OK, HTTPStatus.INTERNAL_SERVER_ERROR] # Resposta deve ser sempre JSON v√°lido import json try: data = json.loads(response.data) assert isinstance(data, (list, dict)) except json.JSONDecodeError: assert False, \u0026#34;Resposta n√£o √© JSON v√°lido\u0026#34; Clique para expandir e ver mais Teste de Regress√£o (Explica√ß√£o Linha por Linha) PYTHON Recolher Copiar @pytest.mark.regression Clique para expandir e ver mais Marcador personalizado para testes de regress√£o Pode ser executado com: pytest -m regression PYTHON Recolher Copiar assert response.status_code in [HTTPStatus.OK, HTTPStatus.INTERNAL_SERVER_ERROR] Clique para expandir e ver mais Garante que o endpoint sempre retorna respostas adequadas Mesmo quando a API externa falha, retorna JSON estruturado Previne travamentos e exce√ß√µes n√£o tratadas Execute testes de regress√£o apenas: pytest -m regression\nCobertura BASH Recolher Copiar pytest --cov=app --cov-report=term-missing Clique para expandir e ver mais Isto:\nRastreia linhas executadas Mostra linhas faltando no relat√≥rio de cobertura Integrado ao pytest.ini para cobertura autom√°tica Relat√≥rio de cobertura atual do projeto:\nPLAINTEXT Recolher Copiar ==================== tests coverage ==================== Name Stmts Miss Cover Missing -------------------------------------- app.py 12 2 83% 10, 15 -------------------------------------- TOTAL 12 2 83% Clique para expandir e ver mais M√©tricas de cobertura explicadas:\nName: Nome do arquivo sendo medido Stmts: Total de declara√ß√µes (linhas de c√≥digo) no arquivo Miss: N√∫mero de declara√ß√µes n√£o executadas pelos testes Cover: Percentual de c√≥digo coberto pelos testes Missing: N√∫meros das linhas espec√≠ficas n√£o cobertas ‚ö†Ô∏è Importante: Alta cobertura n√£o significa testes de alta qualidade. Foque em testar comportamento, n√£o apenas linhas.\nExecutando Diferentes Tipos de Teste BASH Recolher Copiar # Executar apenas testes unit√°rios pytest -m unit # Executar apenas testes de integra√ß√£o pytest -m integration # Executar testes de regress√£o pytest -m regression # Pular testes lentos pytest -m \u0026#34;not slow\u0026#34; # Executar benchmarks de performance pytest --benchmark-only # Executar com cobertura (configurado em pytest.ini) pytest # Executar com output detalhado pytest -v # Executar arquivo de teste espec√≠fico pytest tests/test_users_unit.py Clique para expandir e ver mais Resumo das Melhores Pr√°ticas Organiza√ß√£o de Testes\nSeparar c√≥digo de produ√ß√£o de testes Usar nomes de testes descritivos Agrupar testes relacionados em arquivos Padr√£o AAA\nArrange: Preparar dados de teste e mocks Act: Executar a fun√ß√£o sob teste Assert: Verificar resultado Estrat√©gia de Mocking\nMockar depend√™ncias externas em testes unit√°rios Usar chamadas reais em testes de integra√ß√£o Mockar apenas o que voc√™ precisa (m√©todos espec√≠ficos) Uso de Fixtures\nReutilizar configura√ß√£o de teste comum Manter fixtures focadas e simples Usar yield para opera√ß√µes de limpeza Categorias de Teste\nUnit: R√°pidos, isolados, l√≥gica de neg√≥cios Integration: Chamadas externas reais Functional: Cen√°rios completos do usu√°rio Performance: Benchmark de caminhos cr√≠ticos Regression: Prevenir recorr√™ncia de bugs Dicas Avan√ßadas Marcadores Personalizados PYTHON Recolher Copiar # pytest.ini markers = unit: marca testes como testes unit√°rios integration: marca testes como testes de integra√ß√£o regression: marca testes como testes de regress√£o slow: marca testes como testes lentos network: marca testes requerendo internet Clique para expandir e ver mais Configura√ß√£o de Teste PYTHON Recolher Copiar # conftest.py @pytest.fixture(scope=\u0026#34;session\u0026#34;) def api_client(): \u0026#34;\u0026#34;\u0026#34;Cliente compartilhado entre todos os testes\u0026#34;\u0026#34;\u0026#34; return SomeApiClient() @pytest.fixture(autouse=True) def setup_test_environment(): \u0026#34;\u0026#34;\u0026#34;Fixture auto-usada para todos os testes\u0026#34;\u0026#34;\u0026#34; # C√≥digo de configura√ß√£o aqui yield # C√≥digo de limpeza aqui Clique para expandir e ver mais Conclus√£o Voc√™ agora entende:\nOrganiza√ß√£o de Testes: Estrutura adequada e separa√ß√£o Testes Unit√°rios: Testes isolados com mocks Testes de Integra√ß√£o: Chamadas reais de API Testes Funcionais: Cen√°rios ponta a ponta Testes de Performance: Benchmarking com pytest-benchmark Testes de Regress√£o: Prevenindo recorr√™ncia de bugs Estrat√©gia de Mocking: Quando e como mockar Fixtures: Componentes de teste reutiliz√°veis Marcadores: Categorizando e filtrando testes Parametrizar: Reduzindo duplica√ß√£o de testes Padr√£o AAA: Estrutura clara de teste Cobertura: Medindo completude de testes Isto √© arquitetura de teste de n√≠vel profissional que escalar√° com seu projeto.\nPr√≥ximos Passos Adicionar mais testes de casos extremos Implementar f√°bricas de dados de teste Configurar CI/CD com testes automatizados Explorar teste baseado em propriedades com hypothesis Considerar teste de contrato para APIs Projeto completo no Github ","title":"Testando APIs do GitHub com Pytest - Pr√°tica"},{"link":"/pt/posts/testes-com-pytest-fundamentos-boas-pr%C3%A1ticas-e-estrat%C3%A9gia/","text":" Testar software n√£o √© apenas uma etapa t√©cnica do desenvolvimento √© uma estrat√©gia de qualidade, confian√ßa e sustentabilidade. Sistemas sem testes tendem a quebrar com frequ√™ncia, gerar medo de mudan√ßas e aumentar drasticamente o custo de manuten√ß√£o.\nNeste post, vamos focar 100% na teoria, explicando conceitos fundamentais de testes automatizados usando Pytest, o framework de testes mais popular do ecossistema Python.\nüëâ No pr√≥ximo post da s√©rie, aplicaremos tudo isso em um projeto Flask real consumindo a API p√∫blica do GitHub.\nO que √© Pytest? Pytest √© um framework de testes para Python que facilita a cria√ß√£o de testes simples, leg√≠veis e escal√°veis. Ele permite testar desde fun√ß√µes isoladas at√© sistemas completos.\nPor que Pytest √© t√£o usado? Sintaxe simples (baseada em assert) Descoberta autom√°tica de testes Sistema poderoso de fixtures Excelente suporte a plugins Escala bem para projetos grandes Comparado ao unittest, o Pytest √© mais expressivo, menos verboso e mais produtivo.\nQual √© o objetivo dos testes? Testes existem para reduzir incerteza.\nEles ajudam a:\nGarantir que o c√≥digo funciona como esperado Detectar erros rapidamente Evitar regress√µes Permitir refatora√ß√µes seguras Servir como documenta√ß√£o viva do sistema Um c√≥digo sem testes pode at√© funcionar hoje, mas √© fr√°gil amanh√£.\nQuando escrever testes? Ao criar novas funcionalidades Ao corrigir bugs (especialmente regress√µes) Antes de refatorar c√≥digo existente Em c√≥digo cr√≠tico para o neg√≥cio E quando N√ÉO escrever testes? Provas de conceito muito r√°pidas (POCs) Scripts totalmente descart√°veis Mesmo nesses casos, testes ainda podem trazer benef√≠cios.\nTipos de Testes Entender os tipos de testes √© essencial para criar uma estrat√©gia equilibrada.\nTestes Unit√°rios Testam fun√ß√µes ou m√©todos isolados N√£o acessam banco, rede ou sistema de arquivos S√£o r√°pidos e baratos ‚úîÔ∏è Base da pir√¢mide de testes\nTestes de Integra√ß√£o Testam a comunica√ß√£o entre componentes Exemplo: aplica√ß√£o + banco, aplica√ß√£o + API externa ‚úîÔ∏è Detectam falhas reais de integra√ß√£o ‚ùå Mais lentos\nTestes Funcionais Testam fluxos completos da aplica√ß√£o Simulam o comportamento do usu√°rio ‚úîÔ∏è Alta confian√ßa ‚ùå Mais complexos\nTestes de Sistema / End-to-End (E2E) Testam o sistema como um todo Incluem m√∫ltiplas camadas ‚úîÔ∏è Simulam uso real ‚ùå Lentos e fr√°geis\nTestes de Regress√£o Garantem que bugs corrigidos n√£o voltem Normalmente surgem ap√≥s incidentes reais ‚úîÔ∏è Protegem contra erros reincidentes\nTestes de Performance Avaliam tempo de resposta e consumo de recursos Identificam gargalos ‚úîÔ∏è Importantes em sistemas cr√≠ticos ‚ùå Devem ser usados com crit√©rio\nA Pir√¢mide de Testes Uma boa estrat√©gia de testes segue a pir√¢mide:\nMuitos testes unit√°rios Alguns testes de integra√ß√£o Poucos testes E2E Isso garante velocidade, confian√ßa e custo controlado.\nO padr√£o AAA (Arrange, Act, Assert) AAA √© um padr√£o de organiza√ß√£o de testes que melhora drasticamente a legibilidade.\nArrange Preparar dados, mocks e contexto.\nAct Executar a a√ß√£o que est√° sendo testada.\nAssert Validar o resultado.\nBenef√≠cios Testes mais claros Menos ambiguidade Manuten√ß√£o mais f√°cil Fixtures no Pytest Fixtures s√£o fun√ß√µes reutiliz√°veis respons√°veis por preparar e limpar o ambiente de testes.\nPor que usar fixtures? Evitam duplica√ß√£o de c√≥digo Centralizam setup/teardown Tornam os testes mais leg√≠veis Escopos de fixtures function: padr√£o (executa a cada teste) module: uma vez por arquivo session: uma vez por execu√ß√£o Pytest Marks Marks permitem classificar e controlar testes.\nparametrize Permite rodar o mesmo teste com v√°rios dados.\nBenef√≠cios:\nMenos c√≥digo Mais cobertura Testes mais expressivos skip Ignora testes conscientemente.\nQuando usar:\nDepend√™ncia externa indispon√≠vel Funcionalidade desativada xfail Marca testes que devem falhar.\nBenef√≠cios:\nDocumenta bugs conhecidos N√£o quebra o pipeline slow Marca testes lentos.\nBenef√≠cios:\nExecu√ß√£o seletiva Feedback r√°pido no dia a dia O que √© Mock? Mock √© uma t√©cnica usada para simular depend√™ncias externas.\nQuando usar mock? APIs externas Banco de dados Servi√ßos de terceiros Quando N√ÉO usar? Para testar l√≥gica interna Em excesso (overmocking) unittest.mock vs pytest-mock unittest.mock Biblioteca padr√£o do Python Mais verbosa Usa context managers ‚úîÔ∏è N√£o depende de plugins ‚ùå C√≥digo mais dif√≠cil de ler\npytest-mock Plugin do Pytest Integra√ß√£o com fixtures Sintaxe mais limpa ‚úîÔ∏è Mais produtivo ‚úîÔ∏è Mais leg√≠vel\nPlugins Essenciais do Pytest pytest-cov Mede cobertura de c√≥digo Ajuda a identificar √°reas n√£o testadas ‚ö†Ô∏è Cobertura alta ‚â† c√≥digo de qualidade\npytest-mock Facilita cria√ß√£o de mocks Reduz boilerplate Boas Pr√°ticas Gerais Testes devem ser simples Um comportamento por teste Nomes claros e descritivos Evite l√≥gica complexa nos testes Testes devem ser determin√≠sticos Conclus√£o Testes automatizados n√£o s√£o um luxo, s√£o uma necessidade profissional. Pytest fornece as ferramentas certas para escrever testes claros, escal√°veis e confi√°veis.\nNo pr√≥ximo post da s√©rie, vamos aplicar todos esses conceitos em um projeto Flask real, consumindo a API p√∫blica do GitHub, com testes unit√°rios, de integra√ß√£o, funcionais e de performance.\nüëâ Continue para o Post 2: Testando APIs do GitHub com Pytest - Pr√°tica)\n","title":"Testes com Pytest - Fundamentos, Boas Pr√°ticas e Estrat√©gia"},{"link":"/pt/posts/entendendo-mock-e-magicmock-em-python/","text":" Este artigo foi escrito para qualquer pessoa entender (se teve algo que n√£o entendeu me fale, para que possa melhorar), mesmo quem ainda est√° come√ßando com testes em Python. Vamos explicar o que √© cada conceito, por que ele existe e quando usar, sempre com exemplos pr√°ticos e explica√ß√µes claras.\n1. O que √© Mock? (explica√ß√£o simples) Um Mock √© um objeto falso, criado apenas para testes, que finge ser outro objeto real.\nEle permite:\nSimular fun√ß√µes, m√©todos, classes e objetos inteiros Definir retornos e exce√ß√µes Registrar chamadas (quantidade, argumentos, ordem) Isolar a unidade de c√≥digo testada Em vez de usar:\num banco de dados real, uma API externa, um servi√ßo de e-mail, ou um sistema complexo, usamos um mock para simular esse comportamento.\nPor que isso √© importante? Porque em testes n√≥s queremos:\nvelocidade, previsibilidade, isolamento. Exemplo mental Imagine uma fun√ß√£o que envia e-mails:\nPYTHON Recolher Copiar def send_email(to): print(\u0026#34;Enviando email\u0026#34;) Clique para expandir e ver mais Em um teste, voc√™ n√£o quer enviar e-mails de verdade. Ent√£o voc√™ substitui essa fun√ß√£o por um mock.\nO mock:\nn√£o envia nada, mas registra se foi chamado, com quais argumentos, e quantas vezes. üëâ Por isso dizemos que o mock √© flex√≠vel: voc√™ define como ele deve se comportar.\nüëâ Qualquer atributo acessado em um Mock vira automaticamente outro Mock.\n2. O que √© MagicMock? MagicMock √© um tipo especial e subclasse de Mock.\nEle existe para simular objetos que usam m√©todos m√°gicos do Python.\nO que s√£o m√©todos m√°gicos? S√£o m√©todos que:\ncome√ßam e terminam com __ o Python chama automaticamente Exemplos comuns:\n__len__ ‚Üí chamado quando usamos len(obj) __iter__ ‚Üí usado em for __getitem__ ‚Üí usado com obj[x] __contains__ ‚Üí usado com in __str__ ‚Üí usado com print(obj) Esses m√©todos n√£o s√£o chamados diretamente, mas pelo pr√≥prio Python.\nPor que MagicMock existe? O Mock normal n√£o lida bem com esses m√©todos. O MagicMock j√° vem preparado para isso.\n3. Mock ‚â† Stub ‚â† Fake (diferen√ßas importantes) Stub Um stub apenas retorna valores fixos.\nPYTHON Recolher Copiar def get_user_stub(): return {\u0026#34;id\u0026#34;: 1} Clique para expandir e ver mais Fake Um fake tem uma implementa√ß√£o simples, mas funcional.\nPYTHON Recolher Copiar class FakeEmailService: def __init__(self): self.sent = [] def send(self, to): self.sent.append(to) Clique para expandir e ver mais Mock Um mock registra chamadas e valida intera√ß√µes.\nPYTHON Recolher Copiar from unittest.mock import Mock email = Mock() email.send(\u0026#34;a@test.com\u0026#34;) email.send.assert_called_once_with(\u0026#34;a@test.com\u0026#34;) Clique para expandir e ver mais 4. Principais atributos e m√©todos return_value Define o valor retornado pelo mock.\nPYTHON Recolher Copiar mock.func.return_value = 10 Clique para expandir e ver mais side_effect Permite exce√ß√µes, fun√ß√µes ou m√∫ltiplos retornos.\nPYTHON Recolher Copiar mock.func.side_effect = Exception(\u0026#34;Erro\u0026#34;) Clique para expandir e ver mais called / call_count Indicam se e quantas vezes foi chamado.\nPYTHON Recolher Copiar assert mock.func.called assert mock.func.call_count == 1 Clique para expandir e ver mais call_args / call_args_list Mostram os argumentos usados.\nPYTHON Recolher Copiar mock.func(1) mock.func(2) assert mock.func.call_args_list == [((1,),), ((2,),)] Clique para expandir e ver mais 5. patch ‚Äî substituindo depend√™ncias Use patch para trocar depend√™ncias reais por mocks temporariamente.\nA regra de ouro:\nVoc√™ deve patchar onde o objeto √© USADO, n√£o onde √© DEFINIDO.\nPYTHON Recolher Copiar # app/services.py from app.email import send_email def notify(user): send_email(user.email) Clique para expandir e ver mais PYTHON Recolher Copiar with patch(\u0026#34;app.services.send_email\u0026#34;) as mock_send: notify(user) Clique para expandir e ver mais ‚ùå ERRADO:\nPYTHON Recolher Copiar patch(\u0026#34;app.email.send_email\u0026#34;) Clique para expandir e ver mais 6. spec e autospec Use para evitar erros silenciosos e garantir assinatura correta.\nspec Restringe atributos v√°lidos.\nPYTHON Recolher Copiar mock = Mock(spec=MyClass) Clique para expandir e ver mais autospec Restringe atributos e assinatura.\nPYTHON Recolher Copiar @patch(\u0026#34;module.func\u0026#34;, autospec=True) def test(mock_func): ... Clique para expandir e ver mais ‚úÖ Evita erros silenciosos.\n7. Mock com l√≥gica ‚Üí use Fake Se o mock cont√©m l√≥gica complexa, transforme-o em um fake.\n8. Problemas comuns e como resolver ‚ùå Mock n√£o funciona ‚û°Ô∏è Patch no lugar errado\n‚ùå Teste passa mas quebra em produ√ß√£o ‚û°Ô∏è Falta de autospec\n‚ùå Teste dif√≠cil de entender ‚û°Ô∏è Mocks demais\n‚ùå Mock com l√≥gica ‚û°Ô∏è Extraia para fake\n9. Quando usar (e quando N√ÉO usar) Use mocks quando: H√° chamadas HTTP H√° acesso a banco de dados H√° leitura/escrita de arquivos H√° servi√ßos externos H√° depend√™ncias dif√≠ceis de reproduzir N√ÉO use mocks quando: Voc√™ est√° testando l√≥gica pura O teste vira uma c√≥pia da implementa√ß√£o O mock come√ßa a ter l√≥gica pr√≥pria Regra pr√°tica: mock depend√™ncias, n√£o regras de neg√≥cio.\n10. Boas pr√°ticas reais Use autospec=True Mock menos, teste mais comportamento Nomeie bem seus mocks Um teste, um cen√°rio 11. Anti‚Äëpadr√µes üö´ Mockar m√©todo privado\nüö´ Mockar l√≥gica de dom√≠nio\nüö´ Testar apenas chamadas\nüö´ Mocks aninhados em excesso\n12. Checklist mental Antes de criar um mock:\nIsso √© uma depend√™ncia externa? Esse teste precisa mesmo disso? Um fake seria mais simples? Estou testando comportamento ou implementa√ß√£o? Refer√™ncias https://docs.python.org/3/library/unittest.mock.html ","title":"Entendendo Mock e MagicMock em Python"}],"tags":[{"link":"/pt/tags/flask/","name":"Flask","slug":"Flask"},{"link":"/pt/tags/github/","name":"Github","slug":"Github"},{"link":"/pt/tags/mock/","name":"Mock","slug":"Mock"},{"link":"/pt/tags/pytest/","name":"Pytest","slug":"Pytest"},{"link":"/pt/tags/python/","name":"Python","slug":"Python"},{"link":"/pt/tags/testes/","name":"Testes","slug":"Testes"},{"link":"/pt/tags/tests/","name":"Tests","slug":"Tests"},{"link":"/pt/tags/unittest/","name":"Unittest","slug":"Unittest"}]}